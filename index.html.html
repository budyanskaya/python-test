<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Тест по Python</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    body {
      background: #f5f7fa;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    .container {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #2c3e50;
    }
    .progress {
      text-align: center;
      font-size: 18px;
      margin-bottom: 24px;
      color: #3498db;
      font-weight: 600;
    }
    .question {
      font-size: 18px;
      margin-bottom: 20px;
      line-height: 1.5;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .option {
      padding: 14px;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      background: #fff;
    }
    .option:hover {
      background: #f8f9fa;
    }
    .option.correct {
      border-color: #2ecc71;
      background-color: #e8f5e9;
      color: #27ae60;
    }
    .option.incorrect {
      border-color: #e74c3c;
      background-color: #fdf2f2;
      color: #c0392b;
    }
    .feedback {
      margin-top: 16px;
      padding: 12px;
      border-radius: 8px;
      font-weight: 600;
      display: none;
    }
    .feedback.correct {
      background: #e8f5e9;
      color: #27ae60;
      display: block;
    }
    .feedback.incorrect {
      background: #fdf2f2;
      color: #c0392b;
      display: block;
    }
    .next-btn {
      margin-top: 20px;
      padding: 14px 24px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
      width: 100%;
      font-weight: 600;
      transition: background 0.2s;
    }
    .next-btn:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }
    .next-btn:hover:not(:disabled) {
      background: #2980b9;
    }
    .result {
      text-align: center;
      font-size: 20px;
      line-height: 1.6;
    }
    .result h2 {
      margin-bottom: 20px;
      color: #2c3e50;
    }
    .restart-btn {
      margin-top: 20px;
      padding: 14px 24px;
      background: #2ecc71;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
      width: 100%;
      font-weight: 600;
    }
    .restart-btn:hover {
      background: #27ae60;
    }
    @media (max-width: 600px) {
      .container {
        padding: 16px;
      }
      .question, .option {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Тест по Python</h1>
    <div class="progress" id="progress">Вопрос 1 из 164</div>
    <div id="quiz"></div>
  </div>

  <script>
    // === ВОПРОСЫ С ПРАВИЛЬНЫМИ ОТВЕТАМИ ===
    const questions = [
      {
        q: "Являются ли строки в Python изменяемым (mutable) типом данных?",
        a: ["Да, строки можно изменять.", "Только строки в двойных кавычках.", "Нет, строки неизменяемы.", "Только если они содержат цифры."],
        correct: 2
      },
      {
        q: "Какое исключение возникает при делении на ноль?",
        a: ["ArithmeticError", "MathError", "ZeroDivisionError", "ValueError"],
        correct: 2
      },
      {
        q: "Является ли Python регистрозависимым языком (case-sensitive)?",
        a: ["Да, переменные 'Var' и 'var' — это разные переменные.", "Только при работе со строками.", "Только при использовании ключевых слов.", "Нет, регистр символов не имеет значения."],
        correct: 0
      },
      {
        q: "В каком типе данных сохраняются аргументы, принятые через **kwargs?",
        a: ["Словарь (dict).", "Строка (str).", "Кортеж (tuple).", "Список (list)."],
        correct: 0
      },
      {
        q: "Что делает метод replace() у строк?",
        a: ["Ищет позицию подстроки.", "Изменяет исходную строку на месте.", "Возвращает новую строку, где старая подстрока заменена на новую.", "Удаляет подстроку."],
        correct: 2
      },
      {
        q: "Какой символ используется для написания однострочных комментариев в Python?",
        a: ["/*", "--", "//", "#"],
        correct: 3
      },
      {
        q: "Как обратиться к функции func из импортированного модуля mod?",
        a: ["func(mod)", "mod.func()", "mod->func()", "mod::func()"],
        correct: 1
      },
      {
        q: "Какое исключение возникает при попытке обратиться к несуществующему индексу списка?",
        a: ["KeyError", "IndexError", "ValueError", "RangeError"],
        correct: 1
      },
      {
        q: "Какой режим открытия файла используется для записи, предварительно очищая файл?",
        a: ["'r'", "'a'", "'r+'", "'w'"],
        correct: 3
      },
      {
        q: "Что произойдет, если в цепочке except обработчик более общего класса (Exception) стоит перед более конкретным (ValueError)?",
        a: ["Будет выполнен общий обработчик, до конкретного дело не дойдет.", "Python выдаст ошибку.", "Порядок не имеет значения.", "Будут выполнены оба обработчика."],
        correct: 0
      },
      {
        q: "Какой метод используется для преобразования всех символов строки в верхний регистр?",
        a: ["lower()", "upper()", "capitalize()", "title()"],
        correct: 1
      },
      {
        q: "Как работает условное выражение (тернарный оператор) в Python?",
        a: ["if условие then значение else другое_значение", "условие -> истина | ложь", "условие ? значение_если_истина : значение_если_ложь", "значение_если_истина if условие else значение_если_ложь"],
        correct: 3
      },
      {
        q: "Для чего используется проверка if __name__ == \"__main__\":?",
        a: ["Для проверки наличия функции main.", "Для подключения библиотеки.", "Для инициализации глобальных переменных.", "Чтобы код выполнялся только при прямом запуске файла."],
        correct: 3
      },
      {
        q: "Что делает оператор continue внутри цикла?",
        a: ["Прерывает текущую итерацию и переходит к следующей.", "Выходит из программы.", "Возвращает значение из функции.", "Полностью выходит из цикла."],
        correct: 0
      },
      {
        q: "В каком типе данных сохраняются аргументы, принятые через *args?",
        a: ["Список (list).", "Кортеж (tuple).", "Множество (set).", "Словарь (dict)."],
        correct: 1
      },
      {
        q: "Что означает отрицательный индекс при обращении к символу строки?",
        a: ["Удаление символа.", "Это ошибка индексации.", "Обращение к символам с конца строки.", "Обращение к первой половине строки."],
        correct: 2
      },
      {
        q: "Можно ли передать функцию в качестве аргумента другой функции?",
        a: ["Только если функция не возвращает значения.", "Нет, это запрещено синтаксисом.", "Да, функции в Python являются объектами первого класса.", "Только лямбда-функции."],
        correct: 2
      },
      {
        q: "Какой метод файла принудительно записывает данные из буфера на диск, не закрывая файл?",
        a: ["flush()", "push()", "dump()", "save()"],
        correct: 0
      },
      {
        q: "Какой метод считывает файл построчно, возвращая одну строку при каждом вызове?",
        a: ["read()", "lines()", "readline()", "next()"],
        correct: 2
      },
      {
        q: "Какой тип данных всегда возвращает функция input()?",
        a: ["int", "str", "float", "None"],
        correct: 1
      },
      {
        q: "Сколько аргументов может принимать функция range()?",
        a: ["1, 2 или 3 (start, stop, step).", "Бесконечное количество.", "Только 2.", "Только 1."],
        correct: 0
      },
      {
        q: "Что такое рекурсивная функция?",
        a: ["Функция, которая вызывает другую функцию.", "Функция, работающая в бесконечном цикле.", "Функция, которая вызывает саму себя.", "Функция, которая не возвращает значения."],
        correct: 2
      },
      {
        q: "Какой оператор используется для нахождения разности множеств?",
        a: ["^", "/", "- (или метод difference)", ">"],
        correct: 2
      },
      {
        q: "Могут ли в словаре быть повторяющиеся ключи?",
        a: ["Да, это допустимо.", "Нет, ключи должны быть уникальными.", "Только если ключи — строки.", "Только если значения разные."],
        correct: 1
      },
      {
        q: "Что произойдет, если сложить строку '5' и число 5?",
        a: ["Получится строка '5 5'.", "Получится число 10.", "Получится строка '55'.", "Возникнет ошибка TypeError."],
        correct: 3
      },
      {
        q: "Что такое lambda-функция?",
        a: ["Короткая анонимная функция, определяемая в одну строку.", "Функция, которая запускается при старте программы.", "Функция, объявленная внутри класса.", "Функция для математических вычислений."],
        correct: 0
      },
      {
        q: "Какой символ добавляется к режиму для работы с бинарными файлами?",
        a: ["'bin'", "'f'", "'b'", "'2'"],
        correct: 2
      },
      {
        q: "Что делает режим открытия 'a' (append)?",
        a: ["Создает временный файл.", "Открывает файл только для чтения.", "Открывает файл для дозаписи в конец, не удаляя старое содержимое.", "Перезаписывает файл с начала."],
        correct: 2
      },
      {
        q: "Каким требованиям должен отвечать объект, чтобы стать ключом словаря?",
        a: ["Он должен быть строкой.", "Он должен быть хэшируемым (неизменяемым).", "Он должен быть изменяемым.", "Он должен быть уникальным числом."],
        correct: 1
      },
      {
        q: "Какой метод словаря позволяет получить значение по ключу без ошибки, если ключа нет?",
        a: ["find()", "fetch()", "get()", "search()"],
        correct: 2
      },
      {
        q: "Для чего используется цикл while?",
        a: ["Для выполнения блока кода, пока условие остается истинным.", "Для выполнения кода фиксированное количество раз.", "Для перебора элементов списка.", "Для однократного выполнения кода."],
        correct: 0
      },
      {
        q: "Что произойдет, если в рекурсивной функции отсутствует базовый случай?",
        a: ["Функция просто вернет None.", "Код выполнится один раз и остановится.", "Python автоматически исправит ошибку.", "Возникнет ошибка переполнения стека (RecursionError)."],
        correct: 3
      },
      {
        q: "Какой метод возвращает все ключи словаря?",
        a: ["indexes()", "keys()", "names()", "headers()"],
        correct: 1
      },
      {
        q: "С какого индекса начинается нумерация символов в строке?",
        a: ["-1", "Зависит от длины строки.", "0", "1"],
        correct: 2
      },
      {
        q: "Что означает синтаксис *args в определении функции?",
        a: ["Все аргументы должны быть умножены.", "Функция принимает указатель на аргумент.", "Это ошибка синтаксиса.", "Функция принимает произвольное количество позиционных аргументов."],
        correct: 3
      },
      {
        q: "Для чего используется модуль sys?",
        a: ["Для доступа к параметрам и функциям, специфичным для интерпретатора и среды выполнения.", "Для работы с файловой системой.", "Для сетевых запросов.", "Для создания графического интерфейса."],
        correct: 0
      },
      {
        q: "Каково основное преимущество использования менеджера контекста (with) при работе с файлами?",
        a: ["Увеличение скорости чтения файла.", "Автоматическое кодирование в UTF-8.", "Автоматическое закрытие файла даже при возникновении ошибок.", "Возможность чтения файлов без расширения."],
        correct: 2
      },
      {
        q: "Какой метод позволяет записать список строк в файл?",
        a: ["putlines()", "dump()", "writelines()", "writelist()"],
        correct: 2
      },
      {
        q: "Какой оператор используется для присваивания значения переменной?",
        a: [":", "->", "="],
        correct: 2
      },
      {
        q: "Можно ли итерироваться (использовать цикл for) по строке?",
        a: ["Только если преобразовать строку в список.", "Нет, строки не итерируемы.", "Только используя специальную функцию string_loop.", "Да, строка рассматривается как последовательность символов."],
        correct: 3
      },
      {
        q: "Как проверить, является ли множество A подмножеством множества B?",
        a: ["A.check(B)", "A.issubset(B)", "A.inside(B)", "A.ispart(B)"],
        correct: 1
      },
      {
        q: "Что такое параметр функции?",
        a: ["Переменная, указанная в объявлении функции, принимающая значение при вызове.", "Результат работы функции.", "Конкретное значение, передаваемое в функцию при вызове.", "Локальная переменная, созданная внутри тела функции."],
        correct: 0
      },
      {
        q: "Какое логическое значение имеет пустая строка \"\"?",
        a: ["False", "None", "True", "Error"],
        correct: 0
      },
      {
        q: "Что произойдет, если открыть несуществующий файл в режиме 'r'?",
        a: ["Файл будет создан пустым.", "Программа зависнет.", "Возникнет ошибка FileNotFoundError.", "Вернется значение None."],
        correct: 2
      },
      {
        q: "Какое значение имеет специальный тип None?",
        a: ["Отсутствие значения или \"пустоту\".", "Ложь (False).", "Пустую строку.", "Нулевое значение (0)."],
        correct: 0
      },
      {
        q: "Какое исключение возникает при попытке обратиться к несуществующему ключу словаря?",
        a: ["LookupError", "NameError", "IndexError", "KeyError"],
        correct: 3
      },
      {
        q: "В чем разница между методами sort() и функцией sorted()?",
        a: ["Разницы нет.", "sort() работает только с числами, sorted() с любыми данными.", "sort() изменяет список на месте, sorted() возвращает новый отсортированный список.", "sort() сортирует по убыванию, sorted() по возрастанию."],
        correct: 2
      },
      {
        q: "Какой стандартный модуль используется для математических операций?",
        a: ["math", "numbers", "algebra", "calc"],
        correct: 0
      },
      {
        q: "Что делает метод count() у списков?",
        a: ["Возвращает количество вхождений элемента в список.", "Считает сумму элементов.", "Возвращает индекс элемента.", "Возвращает общее количество элементов в списке."],
        correct: 0
      },
      {
        q: "Какое ключевое слово используется для возврата значения из функции?",
        a: ["return", "output", "back", "yield"],
        correct: 0
      },
      {
        q: "Какой метод считывает все строки файла и возвращает их в виде списка?",
        a: ["readlines()", "readlist()", "getlines()", "listlines()"],
        correct: 0
      },
      {
        q: "Можно ли изменить символ строки по индексу (например, s[0] = 'a')?",
        a: ["Да, но только если строка пустая.", "Да, символ заменится.", "Да, если использовать метод replace.", "Нет, возникнет ошибка TypeError."],
        correct: 3
      },
      {
        q: "Какой тип данных используется для чисел с плавающей точкой?",
        a: ["double", "decimal", "int", "float"],
        correct: 3
      },
      {
        q: "Что представляет собой math.pi в модуле math?",
        a: ["Модуль внутри модуля.", "Ошибку округления.", "Константу, содержащую значение числа Пи.", "Функцию для расчета числа Пи."],
        correct: 2
      },
      {
        q: "Что означает ветка else в цикле for или while?",
        a: ["Блок выполняется при каждой итерации.", "Блок выполняется, если цикл был прерван break.", "Блок выполняется, если цикл завершился естественным образом.", "В циклах нельзя использовать else."],
        correct: 2
      },
      {
        q: "Что такое иерархия исключений?",
        a: ["Список ошибок по частоте их возникновения.", "Структура наследования классов исключений (BaseException → Exception → ...).", "Порядок выполнения блоков except.", "Уровни важности логов."],
        correct: 1
      },
      {
        q: "Какое соглашение об именовании переменных принято в Python (PEP 8)?",
        a: ["snake_case", "kebab-case", "PascalCase", "camelCase"],
        correct: 0
      },
      {
        q: "Какой тип возвращает функция range() (формально)?",
        a: ["Список (list).", "Итерируемый объект (range object).", "Генератор.", "Кортеж (tuple)."],
        correct: 1
      },
      {
        q: "Что делает метод tell()?",
        a: ["Возвращает время создания файла.", "Сообщает имя файла.", "Возвращает текущую позицию курсора в файле (в байтах).", "Возвращает размер файла."],
        correct: 2
      },
      {
        q: "Какой базовый класс следует наследовать при создании собственных пользовательских исключений?",
        a: ["BaseException", "Exception", "Error", "Object"],
        correct: 1
      },
      {
        q: "Какой метод удаляет первое вхождение заданного значения из списка?",
        a: ["erase()", "delete()", "discard()", "remove()"],
        correct: 3
      },
      {
        q: "Что такое множество (set) в Python?",
        a: ["Коллекция пар ключ-значение.", "Упорядоченный список элементов.", "Неупорядоченная коллекция уникальных элементов.", "Неизменяемый список."],
        correct: 2
      },
      {
        q: "Что возвращает функция type()?",
        a: ["Размер объекта в байтах.", "Строковое представление значения объекта.", "Тип объекта, переданного в качестве аргумента.", "Адрес объекта в памяти."],
        correct: 2
      },
      {
        q: "Какая команда используется для подключения модуля?",
        a: ["require", "using", "include", "import"],
        correct: 3
      },
      {
        q: "Какие значения может принимать тип bool?",
        a: ["1 и 0", "True и False", "Yes и No", "true и false"],
        correct: 1
      },
      {
        q: "Какое исключение возникает, когда операция получает аргумент правильного типа, но с некорректным значением?",
        a: ["AttributeError", "DataError", "ValueError", "TypeError"],
        correct: 2
      },
      {
        q: "Можно ли использовать raise без аргументов внутри блока except?",
        a: ["Нет, это ошибка.", "Да, это создаст новое пустое исключение.", "Да, это повторно выбросит текущее перехваченное исключение.", "Да, это сбросит исключение."],
        correct: 2
      },
      {
        q: "Какой метод объединяет список строк в одну строку с использованием разделителя?",
        a: ["join()", "concat()", "merge()", "unite()"],
        correct: 0
      },
      {
        q: "Какой метод разбивает строку на список подстрок по разделителю?",
        a: ["slice()", "break()", "explode()", "split()"],
        correct: 3
      },
      {
        q: "Что произойдет, если условие в цикле while всегда будет True и нет break?",
        a: ["Произойдет \"бесконечный цикл\".", "Программа автоматически завершится через 10 секунд.", "Цикл выполнится один раз.", "Цикл не выполнится ни разу."],
        correct: 0
      },
      {
        q: "Какая функция модуля random возвращает случайный элемент из списка?",
        a: ["random()", "pick()", "select()", "choice()"],
        correct: 3
      },
      {
        q: "В чем преимущество использования функций?",
        a: ["Увеличение скорости выполнения программы.", "Уменьшение использования оперативной памяти.", "Автоматическое исправление ошибок.", "Устранение дублирования кода и улучшение его структуры."],
        correct: 3
      },
      {
        q: "Что такое модуль в Python?",
        a: ["Функция, объявленная внутри другой функции.", "Файл с расширением .py, содержащий код Python.", "Папка, содержащая исполняемый файл.", "Специальная библиотека, написанная на C."],
        correct: 1
      },
      {
        q: "Как можно переименовать модуль при импорте (создать псевдоним)?",
        a: ["set alias for module_name", "import module_name rename alias", "alias", "import module_name as alias", "import module_name"],
        correct: 3
      },
      {
        q: "Какой приоритет операций верен (от высшего к низшему)?",
        a: ["Все выполняются слева направо без приоритета.", "Логические → Сравнения → Арифметические.", "Арифметические → Сравнения → Логические (not, and, or).", "Сравнения → Арифметические → Логические."],
        correct: 2
      },
      {
        q: "Для чего используется конструкция if-elif-else?",
        a: ["Для объявления функций.", "Для создания циклов.", "Для обработки ошибок.", "Для выполнения кода в зависимости от условий."],
        correct: 3
      },
      {
        q: "Какой оператор используется для нахождения пересечения множеств (общих элементов)?",
        a: ["|", "-", "& (или метод intersection)", "%"],
        correct: 2
      },
      {
        q: "Какой оператор используется для принудительного вызова (генерации) исключения?",
        a: ["error", "raise", "throw", "trigger"],
        correct: 1
      },
      {
        q: "Является ли SyntaxError стандартным исключением, которое обычно ловят в try-except?",
        a: ["Да, если использовать eval().", "Да, это самое частое исключение.", "Только в интерактивном режиме.", "Нет, синтаксические ошибки возникают до выполнения кода."],
        correct: 3
      },
      {
        q: "Что означает симметрическая разность множеств (оператор ^)?",
        a: ["Элементы, которые есть в обоих множествах.", "Копирование обоих множеств.", "Элементы, которые есть в первом или втором, но не в обоих.", "Элементы, которых нет ни в одном множестве."],
        correct: 2
      },
      {
        q: "Добавляет ли метод write() автоматически символ переноса строки?",
        a: ["Только в Windows.", "Нет, перенос строки нужно добавлять вручную.", "Только в режиме 'w'.", "Да, всегда добавляет."],
        correct: 1
      },
      {
        q: "Что делает метод pop() без аргументов?",
        a: ["Удаляет и возвращает последний элемент списка.", "Только возвращает последний элемент без удаления.", "Удаляет случайный элемент.", "Удаляет первый элемент списка."],
        correct: 0
      },
      {
        q: "Являются ли множества упорядоченными коллекциями?",
        a: ["Только frozenset упорядочен.", "Нет, порядок элементов не гарантируется.", "Да, сохраняется порядок вставки.", "Да, элементы всегда отсортированы."],
        correct: 1
      },
      {
        q: "Как записать множественное присваивание (обмен значений) двух переменных?",
        a: ["b; b", "b, a", "a, b", "a <-> b", "swap(a, b)", "a", "a"],
        correct: 2
      },
      {
        q: "Какой модуль предоставляет функции для взаимодействия с операционной системой?",
        a: ["system", "sys", "os", "platform"],
        correct: 2
      },
      {
        q: "Может ли функция в Python возвращать несколько значений?",
        a: ["Нет, только одно значение.", "Да, если использовать массив.", "Да, но только если они одного типа.", "Да, они возвращаются в виде кортежа."],
        correct: 3
      },
      {
        q: "Что такое вложенный цикл?",
        a: ["Два цикла, идущих друг за другом.", "Цикл, который вызывает сам себя.", "Цикл с несколькими условиями.", "Цикл, который находится внутри тела другого цикла."],
        correct: 3
      },
      {
        q: "Какая встроенная функция используется для открытия файлов в Python?",
        a: ["open()", "read()", "load()", "file()"],
        correct: 0
      },
      {
        q: "Что такое docstring (строка документации)?",
        a: ["Специальная переменная для хранения текста.", "Имя файла, где хранится функция.", "Строковый литерал сразу после заголовка функции для описания её назначения.", "Комментарий с символом #."],
        correct: 2
      },
      {
        q: "Какое основное применение множеств при работе со списками?",
        a: ["Реверс списка.", "Быстрое удаление дубликатов из списка.", "Подсчет суммы элементов.", "Сортировка списка."],
        correct: 1
      },
      {
        q: "Что делает ключевое слово as в конструкции except Exception as e?",
        a: ["Преобразует ошибку в строку.", "Сохраняет перехваченный объект исключения в переменную e.", "Переименовывает тип ошибки.", "Игнорирует ошибку."],
        correct: 1
      },
      {
        q: "Можно ли указать несколько блоков except для одного блока try?",
        a: ["Только в Python версии 2.", "Только если они вложены.", "Да, для разных типов исключений.", "Нет, разрешен только один."],
        correct: 2
      },
      {
        q: "Что означает \"динамическая типизация\" в Python?",
        a: ["Тип определяется компилятором до запуска.", "Тип определяется автоматически при присваивании значения.", "Тип не может быть изменён после инициализации.", "Тип необходимо объявлять явно."],
        correct: 1
      },
      {
        q: "Какой метод возвращает пары (ключ, значение) в виде кортежей?",
        a: ["couples()", "items()", "pairs()", "elements()"],
        correct: 1
      },
      {
        q: "Что такое \"Стандартная библиотека Python\"?",
        a: ["Список ключевых слов языка.", "Библиотека книг по программированию.", "Набор модулей, поставляемых с интерпретатором.", "Сторонние пакеты через pip."],
        correct: 2
      },
      {
        q: "Что означает оператор !=?",
        a: ["Инверсия битов.", "Присвоить, если не существует.", "Не равно.", "Равно с отрицанием."],
        correct: 2
      },
      {
        q: "Какой метод необходимо вызвать, чтобы освободить ресурсы после работы с файлом (без with)?",
        a: ["exit()", "end()", "close()", "quit()"],
        correct: 2
      },
      {
        q: "Для чего используются f-строки (f-strings)?",
        a: ["Для создания файловых путей.", "Для перевода строки в число.", "Для форматирования и вставки значений переменных в строку.", "Для поиска в строках."],
        correct: 2
      },
      {
        q: "Что такое аргумент функции?",
        a: ["Конкретное значение, передаваемое при вызове.", "Имя переменной в объявлении функции.", "Тип данных, который обрабатывает функция.", "Возвращаемое значение функции."],
        correct: 0
      },
      {
        q: "Что такое исключение (exception) в Python?",
        a: ["Событие, нарушающее нормальный ход программы.", "Комментарий в коде.", "Синтаксическая ошибка до запуска.", "Специальный тип переменной."],
        correct: 0
      },
      {
        q: "Для чего используется цикл for в Python?",
        a: ["Только для бесконечных циклов.", "Для перебора элементов последовательности.", "Для выполнения, пока условие ложно.", "Только для математики."],
        correct: 1
      },
      {
        q: "Что произойдет при обращении к несуществующему ключу словаря через []?",
        a: ["Программа завершится без ошибок.", "Словарь добавит ключ с пустым значением.", "Вернётся None.", "Возникнет ошибка KeyError."],
        correct: 3
      },
      {
        q: "Какое логическое значение имеет число 0?",
        a: ["None", "False", "True", "Undefined"],
        correct: 1
      },
      {
        q: "Почему не рекомендуется использовать from module import *?",
        a: ["Запрещено в новых версиях.", "Может вызвать конфликты имён.", "Замедляет программу.", "Модуль может не загрузиться."],
        correct: 1
      },
      {
        q: "Какой оператор проверяет наличие элемента в списке?",
        a: ["has", "in", "exist", "contains"],
        correct: 1
      },
      {
        q: "Какое исключение — \"родитель\" большинства ошибок выполнения?",
        a: ["Exception", "Fault", "Error", "Problem"],
        correct: 0
      },
      {
        q: "Что такое абсолютный путь к файлу?",
        a: ["Относительно текущей папки.", "Имя без расширения.", "Путь в интернете.", "Полный путь от корневой директории."],
        correct: 3
      },
      {
        q: "Как проверить вхождение элемента в строку или список?",
        a: ["Оператор in", "Метод contains()", "Оператор has", "Оператор inside"],
        correct: 0
      },
      {
        q: "Как импортировать из модуля только определённую функцию?",
        a: ["include module select func", "import func from module", "import module.func", "from module import func"],
        correct: 3
      },
      {
        q: "Что при index() для отсутствующего элемента?",
        a: ["Ошибка ValueError", "0", "-1", "None"],
        correct: 0
      },
      {
        q: "Какое ключевое слово позволяет изменять глобальную переменную внутри функции?",
        a: ["global", "extern", "nonlocal", "public"],
        correct: 0
      },
      {
        q: "Что делает оператор break внутри цикла?",
        a: ["Немедленно прерывает цикл.", "Пропускает итерацию.", "Перезапускает цикл.", "Останавливает программу."],
        correct: 0
      },
      {
        q: "Что делает функция int()?",
        a: ["Округляет число.", "Возвращает целую часть от деления.", "Проверяет, целое ли число.", "Преобразует значение в целое число."],
        correct: 3
      },
      {
        q: "Что означает синтаксис **kwargs?",
        a: ["Функция возвращает два значения.", "Функция принимает произвольное число именованных аргументов.", "Это комментарий.", "Функция принимает аргументы в квадрате."],
        correct: 1
      },
      {
        q: "Какой режим открытия файла — для чтения?",
        a: ["'a'", "'x'", "'r'", "'w'"],
        correct: 2
      },
      {
        q: "Упорядочены ли словари в Python 3.7+?",
        a: ["Только если ключи — числа.", "Нет.", "Только с флагом.", "Да, сохраняют порядок добавления."],
        correct: 3
      },
      {
        q: "Какой оператор проверяет равенство?",
        a: ["equals", "eq", "=="],
        correct: 2
      },
      {
        q: "Что такое локальная область видимости?",
        a: ["Доступна из любой части программы.", "Только внутри циклов.", "Внутри функции, видна только ей.", "Встроенные модули."],
        correct: 2
      },
      {
        q: "Исключение при ошибке импорта?",
        a: ["SystemError", "ImportError ( или ModuleNotFoundError)", "IncludeError", "LoadError"],
        correct: 1
      },
      {
        q: "Могут ли списки содержать разные типы?",
        a: ["Нет.", "Только во вложенных.", "Да, списки гетерогенны.", "Только строки и числа."],
        correct: 2
      },
      {
        q: "Какой метод удаляет пробелы по краям строки?",
        a: ["strip()", "trim()", "delete()", "cut()"],
        correct: 0
      },
      {
        q: "Что такое \"аргументы по умолчанию\"?",
        a: ["Системные параметры.", "Значения, если аргумент не передан.", "Аргументы, переданные первыми.", "Нельзя изменять."],
        correct: 1
      },
      {
        q: "Можно ли создать свой модуль?",
        a: ["Только в платной версии.", "Нужно компилировать в C.", "Да, достаточно файла .py.", "Нет."],
        correct: 2
      },
      {
        q: "Зачем обрабатывать исключения?",
        a: ["Скрыть код.", "Чтобы программа не аварийно завершалась.", "Исправить синтаксис.", "Ускорить выполнение."],
        correct: 1
      },
      {
        q: "Какой метод очищает коллекцию от всех элементов?",
        a: ["clear()", "empty()", "delete_all()", "flush()"],
        correct: 0
      },
      {
        q: "Можно ли вкладывать try-except?",
        a: ["Нет.", "Да.", "Только в разных функциях.", "Только до 2 уровней."],
        correct: 1
      },
      {
        q: "Для чего функция len()?",
        a: ["Последний элемент.", "Пустой ли объект.", "Изменяет размер.", "Возвращает длину объекта."],
        correct: 3
      },
      {
        q: "Что делает оператор not?",
        a: ["Обнуляет переменную.", "Инвертирует логическое значение.", "Удаляет переменную.", "Проверяет равенство нулю."],
        correct: 1
      },
      {
        q: "Какой метод записывает строку в файл?",
        a: ["save()", "print()", "write()", "input()"],
        correct: 2
      },
      {
        q: "Ключевое слово для анонимной функции?",
        a: ["def", "anon", "inline", "lambda"],
        correct: 3
      },
      {
        q: "Метод чтения всего файла в строку?",
        a: ["get()", "readall()", "readline()", "read()"],
        correct: 3
      },
      {
        q: "Метод вставки элемента по индексу?",
        a: ["place()", "insert()", "put()", "add_at()"],
        correct: 1
      },
      {
        q: "Что возвращает isdigit() для строки с пробелами?",
        a: ["True", "None", "Ошибка", "False"],
        correct: 3
      },
      {
        q: "Что такое декораторы?",
        a: ["Для читаемости.", "Функции, добавляющие функциональность без изменения кода.", "Автоматически вызываются.", "Особый вид классов."],
        correct: 1
      },
      {
        q: "Что такое позиционные аргументы?",
        a: ["С указанием имени.", "Позиция курсора.", "Только числа.", "Сопоставляются по порядку передачи."],
        correct: 3
      },
      {
        q: "Недопустимое имя переменной?",
        a: ["_variable", "variable_two", "2variable", "variable2"],
        correct: 2
      },
      {
        q: "Блок для потенциально ошибочного кода?",
        a: ["try", "finally", "except", "else"],
        correct: 0
      },
      {
        q: "Функция получения имён в модуле?",
        a: ["dir()", "list()", "show()", "help()"],
        correct: 0
      },
      {
        q: "Режим 'x' при открытии файла?",
        a: ["Зашифрует.", "Удалит.", "Только если файл не существует.", "Чтение и запись."],
        correct: 2
      },
      {
        q: "Что содержит __name__?",
        a: ["Имя пользователя.", "Версия Python.", "Путь к файлу.", "Имя модуля; \"__main__\" если запущен напрямую."],
        correct: 3
      },
      {
        q: "Что генерирует range(3)?",
        a: ["0, 1, 2", "0, 1, 2, 3", "1, 2, 3", "3, 2, 1"],
        correct: 0
      },
      {
        q: "Метод получения всех значений словаря?",
        a: ["data()", "content()", "values()", "items()"],
        correct: 2
      },
      {
        q: "Что такое \"срез\" строки?",
        a: ["Дублирование.", "Удаление части.", "Извлечение подстроки по индексам.", "Разделение на слова."],
        correct: 2
      },
      {
        q: "Как создать многострочную строку?",
        a: ["Тройные кавычки (\"\"\" или ''')", "Символ /n", "Скобки {"],
        correct: 0
      },
      {
        q: "Что при except: без типа исключения?",
        a: ["Перехватит все исключения.", "Ничего не перехватит.", "Только синтаксические.", "Ошибка синтаксиса."],
        correct: 0
      },
      {
        q: "Логический оператор \"ИЛИ\"?",
        a: ["not", "nor", "and", "or"],
        correct: 3
      },
      {
        q: "Что делает метод seek()?",
        a: ["Удалить файл.", "Искать строку.", "Проверить существование.", "Переместить курсор в файле."],
        correct: 3
      },
      {
        q: "Метод добавления элемента в конец списка?",
        a: ["push()", "append()", "insert()", "add()"],
        correct: 1
      },
      {
        q: "Модуль для даты и времени?",
        a: ["time", "calendar", "date", "datetime"],
        correct: 3
      },
      {
        q: "Оператор целочисленного деления?",
        a: ["//", "%", "div", "/"],
        correct: 0
      },
      {
        q: "Модуль для случайных чисел?",
        a: ["chance", "random", "rand", "stochastic"],
        correct: 1
      },
      {
        q: "Что делает метод reverse()?",
        a: ["Сортирует по убыванию.", "Копия в обратном порядке.", "Меняет первый и последний.", "Разворачивает список на месте."],
        correct: 3
      },
      {
        q: "Можно ли использовать ключевые слова как имена переменных?",
        a: ["Да.", "Нет, синтаксическая ошибка.", "Только внутри функций.", "Только с большой буквы."],
        correct: 1
      },
      {
        q: "Метод расширения списка другой последовательностью?",
        a: ["increase()", "expand()", "append()", "extend()"],
        correct: 3
      },
      {
        q: "Что такое KeyboardInterrupt?",
        a: ["Ошибка ввода.", "Исключение при Ctrl+C.", "Сбой драйвера.", "Ошибка клавиатуры."],
        correct: 1
      },
      {
        q: "Исключение при использовании неопределённой переменной?",
        a: ["DefineError", "NameError", "VarError", "ScopeError"],
        correct: 1
      },
      {
        q: "Роль отступов в Python?",
        a: ["Только для читаемости.", "Игнорируются.", "Заменяют комментарии.", "Определяют блоки кода."],
        correct: 3
      },
      {
        q: "Что такое \"базовый случай\" в рекурсии?",
        a: ["Максимальная глубина.", "Условие завершения рекурсии.", "Ошибка стека.", "Первый вызов."],
        correct: 1
      },
      {
        q: "Функция приостановки выполнения программы?",
        a: ["pause()", "wait()", "sleep()", "stop()"],
        correct: 2
      },
      {
        q: "Структура для \"ключ-значение\"?",
        a: ["Множество.", "Кортеж.", "Словарь.", "Список."],
        correct: 2
      },
      {
        q: "Что делает оператор not?",
        a: ["Удаляет переменную из памяти.", "Проверяет равенство нулю.", "Обнуляет значение переменной.", "Инвертирует логическое значение (True в False и наоборот)."],
        correct: 3
      },
      {
        q: "Какой метод считывает все строки файла и возвращает их в виде списка?",
        a: ["getlines()", "listlines()", "readlines()", "readlist()"],
        correct: 2
      },
      {
        q: "Что такое модуль в Python?",
        a: ["Файл с расширением .py, содержащий код Python (функции, классы, переменные).", "Функция, объявленная внутри другой функции.", "Специальная библиотека, написанная на C.", "Папка, содержащая исполняемый файл."],
        correct: 0
      },
      {
        q: "Что такое рекурсивная функция?",
        a: ["Функция, которая не возвращает значения.", "Функция, работающая в бесконечном цикле.", "Функция, которая вызывает саму себя.", "Функция, которая вызывает другую функцию."],
        correct: 2
      }
    ];

    // === ЛОГИКА ТЕСТА ===
    let shuffledQuestions = [];
    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let userAnswers = [];

    // Функция перемешивания (Fisher-Yates)
    function shuffle(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function shuffleOptions(options) {
      return shuffle(options.map((text, index) => ({ text, index })));
    }

    function startQuiz() {
      shuffledQuestions = shuffle(questions.map(q => {
        const shuffledOpts = shuffleOptions(q.a);
        return {
          question: q.q,
          options: shuffledOpts.map(o => o.text),
          correctIndex: shuffledOpts.findIndex(o => o.index === q.correct),
          originalCorrectIndex: q.correct
        };
      }));
      currentQuestionIndex = 0;
      correctAnswers = 0;
      userAnswers = [];
      showQuestion();
    }

    function showQuestion() {
      const quizDiv = document.getElementById('quiz');
      const progressDiv = document.getElementById('progress');
      const q = shuffledQuestions[currentQuestionIndex];

      progressDiv.textContent = `Вопрос ${currentQuestionIndex + 1} из ${shuffledQuestions.length}`;

      let optionsHTML = '';
      q.options.forEach((opt, idx) => {
        optionsHTML += `<div class="option" onclick="selectOption(${idx})">${opt}</div>`;
      });

      quizDiv.innerHTML = `
        <div class="question">${q.question}</div>
        <div class="options">${optionsHTML}</div>
        <div class="feedback" id="feedback"></div>
        <button class="next-btn" id="nextBtn" onclick="nextQuestion()" disabled>Далее</button>
      `;
    }

    function selectOption(selectedIndex) {
      const q = shuffledQuestions[currentQuestionIndex];
      const options = document.querySelectorAll('.option');
      const feedback = document.getElementById('feedback');
      const nextBtn = document.getElementById('nextBtn');

      // Отключаем дальнейший выбор
      options.forEach(opt => opt.style.pointerEvents = 'none');

      const isCorrect = selectedIndex === q.correctIndex;
      if (isCorrect) {
        correctAnswers++;
        options[selectedIndex].classList.add('correct');
        feedback.textContent = "✅ Верно!";
        feedback.className = "feedback correct";
      } else {
        options[selectedIndex].classList.add('incorrect');
        options[q.correctIndex].classList.add('correct');
        feedback.textContent = "❌ Неверно. Правильный ответ выделен зелёным.";
        feedback.className = "feedback incorrect";
      }

      userAnswers.push({
        question: q.question,
        selected: q.options[selectedIndex],
        correct: q.options[q.correctIndex],
        isCorrect
      });

      nextBtn.disabled = false;
    }

    function nextQuestion() {
      currentQuestionIndex++;
      if (currentQuestionIndex < shuffledQuestions.length) {
        showQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const quizDiv = document.getElementById('quiz');
      const progressDiv = document.getElementById('progress');
      progressDiv.textContent = "Тест завершён!";

      const total = shuffledQuestions.length;
      const wrong = total - correctAnswers;

      quizDiv.innerHTML = `
        <div class="result">
          <h2>Результаты теста</h2>
          <p>Всего вопросов: <strong>${total}</strong></p>
          <p>Правильных ответов: <strong>${correctAnswers}</strong></p>
          <p>Ошибок: <strong>${wrong}</strong></p>
        </div>
        <button class="restart-btn" onclick="startQuiz()">Пройти заново</button>
      `;
    }

    // Запуск при загрузке
    window.onload = startQuiz;
  </script>
</body>
</html>